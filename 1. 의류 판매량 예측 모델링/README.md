# 의류 판매량 예측 모델링

## 1. 사전 세팅

### 1.1. Github 상에서 Invalid Notebook 오류가 발생할 때

* 노트북 메타데이터/출력을 정리해 깃 렌더링 오류를 예방

### 1.2. 기본 세팅

* 경고 무시, 한글 폰트 설치/캐시 초기화 등 환경 정비

---

## 2. 문제 정의

* A 의류 회사의 생산량 조절을 위해 판매량을 예측한다. 의류는 계절성을 타므로 이를 반영하는 모델이 필요하다.

### 2.1. 도메인 지식

* **Lead Time**: 발주~납품까지 통상 2–3주, 해외 생산·운송을 포함하면 약 8주
* **재고 비용**: 창고 보관/운영 등 비용이 커서 생산량 조절로 최소화가 중요
* **MD의 역할**: MD는 작년 판매량과 회사의 기대치(의지치)를 반영해 발주. 오직 MD의 감으로 Baseline + α 결정
* **Demand Plan(수요 계획)**: 보통 한 번에 몇 만 장을 발주하는 것이 아니라, 나눠서 발주. 이때 사고가 나는 경우가 많은데, 적게 주문했을 때 재고가 부족한 점, 사람들이 트렌드가 바뀌어 사지 않는 점 등이 드러날 수 있음
* **트렌드의 변화**: 옷차림 트렌드는 날씨에 따라 가장 빈번하게 바뀌고, 대형 포털의 검색어에 따라서도 바뀔 수 있음

---

## 3. 배경/인사이트

* 의류 시장의 큰 비용은 **재고 비용**이며, **적정 생산량**으로 이를 줄일 수 있다.
* **접근 방법**: 시계열 예측 + Random Forest (단변량/다변량 변환 필요)
* **성과 측정**: 실제 판매량과 예측량의 차이

### 3.1. 데이터 특성 관찰(요지)

* SKU별 판매 시작일이 달라 개별 예측은 비효율 → **합산 분석** 방향
* **왜도/첨도 활용**: 7일 평균의 왜도로 트렌드, 높은 첨도로 이벤트 짐작

### 3.2. 데이터 가공 명세

* **가공 범위/상세/결과** 표(특징 변형, 분할, 행·열 변화 등)

---

## 4. 문제 해결 프로세스 정의

* **문제**: 재고 부담 증가, 판매량 파악 필요
* **기대 효과**: 적정 생산으로 재고 비용 절감
* **해결 방안**: 시계열 예측 + Random Forest, 단변량/다변량 변환
* **성과 측정**: 예측-실측 차이

---

## 5. 데이터 전처리 및 EDA

### 5.1. 데이터 전처리

---

## 6. 시계열 예측 모델링

* **예측 포인트**: 판매량이 급락하는 구간을 조기 예측해 생산 중단·발주량 조절(예: 6월 판매량 예측 → 8주 전 4월 발주 결정)

### 6.1. (참고) GluonTS DeepAR 접근(호환 이슈로 미사용)

### 6.2. Darts 기반 RNN(LSTM) 접근

* 모델·스케일링·학습 설정 요지 및 학습 로그 요약

---

## 7. RandomForest 활용 모델링

* RNN(LSTM)은 시계열 패턴 추적에 우세하나, RandomForest는 해석 가능성이 높고 변수 영향도를 명확히 볼 수 있음

---

## 8. 결론

* 시계열 데이터 분석에서 가장 중요한 점은?

```
1. 데이터 확인이 무엇보다 중요한 분석이 시계열 분석
2. 날짜형 데이터 타입을 다룰 때, 날짜 형식이 Raw 데이터에 따라 다를 수 있기 때문에 형식 가장 먼저 확인 (UTC/KST 등)
3. 날짜 사이에 결측이 있는지를 꼭 확인해야 하고, 결측이 있는 경우 학습이 제대로 되지 않을 수 있음
4. RNN을 사용하는 경우, 데이터의 특성을 충분히 반영할 수 있는 하이퍼 파라미터를 세팅
```

* 단변량 데이터만으로는 시계열 특성이 반영되지 않는다고 판단될 때

```
1. 단변량 데이터를 특정 Window Size 기준으로 다변량 Feature를 생성해서 Regression 방식으로 바꿔볼 수도 있음
2. 항상 더 좋은 결과를 기대할 수는 없지만, 요일별로 특성을 나타내는 경우에는 효과가 좋음
3. 튜닝까지 할 경우 더 좋은 성능 기대
```